/* Toast animations */
@keyframes toastIn { from { opacity:0; transform:translateX(30px) scale(.9); } to { opacity:1; transform:translateX(0) scale(1); } }
@keyframes toastOut { to { opacity:0; transform:translateX(30px) scale(.9); } }
.toastAnim { animation:toastIn .4s var(--ease-spring); }

/* Slide and fade animations */
@keyframes slideUp { from { opacity:0; transform:translateY(24px); } to { opacity:1; transform:translateY(0); } }
@keyframes fadeIn { from { opacity:0; } to { opacity:1; } }
@keyframes scaleIn { from { opacity:0; transform:scale(.92); } to { opacity:1; transform:scale(1); } }
@keyframes slideInRight { from { opacity:0; transform:translateX(20px); } to { opacity:1; transform:translateX(0); } }
@keyframes slideInLeft { from { opacity:0; transform:translateX(-20px); } to { opacity:1; transform:translateX(0); } }

.pageEnter { animation:slideUp .5s var(--ease-out-expo); }
.fadeIn { animation:fadeIn .4s var(--ease-out-expo); }
.scaleIn { animation:scaleIn .4s var(--ease-spring); }
.slideRight { animation:slideInRight .5s var(--ease-out-expo); }
.slideLeft { animation:slideInLeft .5s var(--ease-out-expo); }

/* Annotation flash */
@keyframes annFlash { 0%,30% { box-shadow:0 0 0 3px var(--ac); } 100% { box-shadow:none; } }
.ann-flash { animation:annFlash .8s ease-out; }

/* Skill glow */
@keyframes glowG {
  0%,100% { box-shadow:0 0 0 3px var(--gd),0 0 15px rgba(196,149,40,.3); }
  50% { box-shadow:0 0 0 3px var(--gd),0 0 25px rgba(196,149,40,.6); }
}

/* Plant sway */
@keyframes sway { 0%,100% { transform:rotate(-2deg); } 50% { transform:rotate(2deg); } }
.plant-sway { animation:sway 3s ease-in-out infinite; }

/* Score reveal */
@keyframes scoreReveal { from { opacity:0; transform:scale(.6) rotate(-10deg); } to { opacity:1; transform:scale(1) rotate(0); } }
.score-reveal { animation:scoreReveal .6s var(--ease-spring); }

/* Pulse glow for CTAs */
@keyframes pulseGlow { 0%,100% { box-shadow:0 0 0 0 rgba(212,98,47,.3); } 50% { box-shadow:0 0 0 8px rgba(212,98,47,0); } }
.pulse-cta { animation:pulseGlow 2s ease-in-out infinite; }

/* Float animation for icons */
@keyframes floatAnim { 0%,100% { transform:translateY(0) rotate(0); } 50% { transform:translateY(-15px) rotate(2deg); } }
.float1 { animation:floatAnim 6s ease-in-out infinite; }
.float2 { animation:floatAnim 8s ease-in-out infinite 1s; }
.float3 { animation:floatAnim 7s ease-in-out infinite 2s; }

/* Hero landing choreography */
.hero-title { opacity:0; animation:slideUp .7s var(--ease-out-expo) .1s forwards; }
.hero-sub { opacity:0; animation:slideUp .7s var(--ease-out-expo) .2s forwards; }
.hero-btns { opacity:0; animation:slideUp .6s var(--ease-out-expo) .35s forwards; }
.hero-features { opacity:0; animation:slideUp .6s var(--ease-out-expo) .5s forwards; }

/* Heroine background */
.heroBg { background-image:radial-gradient(ellipse 80% 50% at 50% -20%,rgba(212,98,47,.15),transparent),radial-gradient(circle at 80% 80%,rgba(92,109,179,.1),transparent); }

/* Essay blocks animations */
@keyframes blockIn { from { opacity:0; transform:translateY(30px) scale(.96); } to { opacity:1; transform:translateY(0) scale(1); } }
.eb-block { animation:blockIn .5s var(--ease-spring); }

@keyframes consolidate { from { opacity:0; transform:scale(.9); } to { opacity:1; transform:scale(1); } }
.eb-consolidated { animation:consolidate .6s var(--ease-spring); }

@keyframes timerPulse { 0%,100% { transform:scale(1); } 50% { transform:scale(1.08); } }
.eb-timer.urgent { animation:timerPulse .5s ease-in-out infinite; }

/* Lesson Lab animations */
@keyframes labSparkle { 0%,100% { transform:scale(1) rotate(0deg); } 50% { transform:scale(1.15) rotate(5deg); } }
.lab-icon { animation:labSparkle 3s ease-in-out infinite; display:inline-block; }

@keyframes labPulse { 0%,100% { opacity:1; } 50% { opacity:.5; } }
.lab-generating { animation:labPulse 1.5s ease-in-out infinite; }

/* Chrono flash */
@keyframes flashGreen { 0% { background:rgba(77,128,96,.3); box-shadow:inset 0 0 30px rgba(77,128,96,.15); } 100% { background:transparent; box-shadow:none; } }
.chronoCorrect { animation:flashGreen .5s var(--ease-out-expo); }

@keyframes flashRed { 0% { background:rgba(212,98,47,.3); box-shadow:inset 0 0 30px rgba(212,98,47,.15); } 100% { background:transparent; box-shadow:none; } }
.chronoWrong { animation:flashRed .6s var(--ease-out-expo); }

/* Block Blast clearing */
@keyframes bbClear { 0%{transform:scale(1);opacity:1} 50%{transform:scale(1.15)} 100%{transform:scale(0);opacity:0} }
.bb-clearing { animation:bbClear .35s var(--ease-out-expo) forwards; }

/* Story animations */
@keyframes storyUnlock { 0%{transform:scale(.9);opacity:0} 100%{transform:scale(1);opacity:1} }
.story-unlock { animation:storyUnlock .6s var(--ease-spring); }

/* Quiz animations */
@keyframes qzPulse { 0%,100%{transform:scale(1)} 50%{transform:scale(1.08)} }
.qz-timer.urgent { animation:qzPulse .5s ease-in-out infinite; }

@keyframes qzScorePop { 0%{opacity:0;transform:translate(-50%,-50%) scale(.5)} 30%{opacity:1;transform:translate(-50%,-50%) scale(1.2)} 100%{opacity:0;transform:translate(-50%,-70%) scale(1)} }
.qz-score-pop { animation:qzScorePop .8s var(--ease-out-expo) forwards; }

/* XP shimmer */
@keyframes xpShimmer { from { transform:translateX(-100%); } to { transform:translateX(200%); } }

/* Tour animations */
@keyframes tourType { from { width:0; } to { width:100%; } }
@keyframes tourFadeSlide { from { opacity:0; transform:translateX(8px); } to { opacity:1; transform:translateX(0); } }
@keyframes tourCursor { 0%,50% { border-color:var(--ac); } 51%,100% { border-color:transparent; } }
.tour-typing { display:inline-block; overflow:hidden; white-space:nowrap; border-right:2px solid var(--ac); animation:tourType 2s steps(30) forwards, tourCursor .7s step-end 3; max-width:100%; }
.tour-pop { animation:tourFadeSlide .4s var(--ease-out-expo) forwards; opacity:0; }
.tour-pop-d1 { animation-delay:.3s; }
.tour-pop-d2 { animation-delay:.6s; }
.tour-pop-d3 { animation-delay:.9s; }
.tour-pop-d4 { animation-delay:1.2s; }
.tour-pop-d5 { animation-delay:1.5s; }

/* Typing and typing cursor */
@keyframes blink { 0%,50% { opacity:1; } 51%,100% { opacity:0; } }
.typing-cursor { display:inline-block; width:2px; height:14px; background:var(--ac); margin-left:2px; vertical-align:text-bottom; animation:blink 1s step-end infinite; }

/* Auto-typing text reveal */
@keyframes typeReveal { from { max-width:0; } to { max-width:100%; } }
.type-line { overflow:hidden; white-space:nowrap; display:inline-block; max-width:0; animation:typeReveal 1.5s var(--ease-out-expo) forwards; }
.type-line:nth-child(1) { animation-delay:0.8s; }
.type-line:nth-child(2) { animation-delay:2.5s; }
.type-line:nth-child(3) { animation-delay:4.2s; }

/* Block pop-in for showcase */
@keyframes blockPop { from { opacity:0; transform:translateY(20px) scale(.9); } to { opacity:1; transform:translateY(0) scale(1); } }
.sc-block { opacity:0; animation:blockPop .5s var(--ease-spring) forwards; }
.sc-block:nth-child(1) { animation-delay:.3s; }
.sc-block:nth-child(2) { animation-delay:1.5s; }
.sc-block:nth-child(3) { animation-delay:2.7s; }

/* Progress fill animation */
@keyframes fillProg { from { width:0%; } to { width:var(--fill); } }
.sc-prog-fill { animation:fillProg 3s var(--ease-out-expo) .5s forwards; width:0%; }

/* Score count up */
@keyframes scoreCount { 0% { opacity:0; transform:scale(.5) rotate(-15deg); } 60% { transform:scale(1.1) rotate(2deg); } 100% { opacity:1; transform:scale(1) rotate(0); } }
.sc-score { opacity:0; animation:scoreCount .6s var(--ease-spring) 4s forwards; }

/* Multiplayer dots */
@keyframes dotPulse { 0%,100% { transform:scale(1); opacity:.6; } 50% { transform:scale(1.3); opacity:1; } }
.sc-dot { animation:dotPulse 1.5s ease-in-out infinite; }
.sc-dot:nth-child(2) { animation-delay:.3s; }
.sc-dot:nth-child(3) { animation-delay:.6s; }
.sc-dot:nth-child(4) { animation-delay:.9s; }

/* Orbit animation */
@keyframes orbitSlow { 0% { transform:rotate(0deg) translateX(40px) rotate(0deg); } 100% { transform:rotate(360deg) translateX(40px) rotate(-360deg); } }
.orbit { animation:orbitSlow 20s linear infinite; }

/* Float animation */
@keyframes float { 0%,100% { transform:translateY(0) rotate(0); } 50% { transform:translateY(-8px) rotate(1deg); } }

/* Spin animation */
@keyframes spin { to { transform:rotate(360deg); } }

/* Number counter */
@keyframes countUp { from { opacity:0; transform:translateY(8px); } to { opacity:1; transform:translateY(0); } }
.count-up { animation:countUp .4s var(--ease-out-expo); }
